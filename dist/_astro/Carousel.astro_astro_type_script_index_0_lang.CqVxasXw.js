import{d as h}from"./debounce.DT8DhbJn.js";import{l as f}from"./event.C5jlCmtE.js";const b=Array.from(document.querySelectorAll('[data-id="w-carousel"]')),y=e=>{const t=e.target;if(!t.dataset.paginated){const a=t.scrollLeft,s=t.children[0].clientWidth,c=Math.round(a/s)+1,n=t.children[0],o=t.parentElement?.querySelector('[data-id="w-pagination"]'),l=Number(o.dataset.currentPage),u=Math.abs(l-c);let i=l>c?o.querySelector('[data-page="prev"]'):o.querySelector('[data-page="next"]');i||(i=o.querySelector(`[data-page="${c}"]`));for(let r=0;r<u;r++)i.click();Array.from(n.children).forEach(r=>{r.removeAttribute("data-active")});const d=n.children[c-1];d.dataset.active="true"}};b.forEach(e=>{const t=e,a=t.dataset.debounce?Number(t.dataset.debounce):20;e.addEventListener("scroll",h(s=>{y(s)},a))});f("paginate",e=>{const t=e.target,a=t.closest("section").querySelector('[data-id="w-carousel"] ul');if(!a)return;const s=t.closest("section").querySelector(".w-carousel-progress"),c=100/(Number(t.dataset.totalPages)-1),n=Number(a.dataset.visibleItems)||1,o=a.children.length,l=Array.from({length:Math.ceil(o/n)},(r,m)=>Array.from({length:n},(g,p)=>m*n+p).filter(g=>g<o)),u=e.direction==="prev"?l[e.page-1][0]:l[e.page-1][l[e.page-1].length-1],i=a.children[u],d=e.target.nextElementSibling;if(Array.from(a.children).forEach(r=>{r.removeAttribute("data-active")}),d?.dataset.text&&(d.innerText=d.dataset.text.replace("{0}",e.page).replace("{1}",t.dataset.totalPages)),s){const r=c*(Number(e.page)-1);s.children[0].style.setProperty("--w-progress-width",`${r}%`)}if(e.trusted){const r=t.closest("section").querySelector('[data-id="w-carousel"]');i.scrollIntoView({behavior:"smooth",block:"nearest"}),i.dataset.active="true",r.dataset.paginated="true",setTimeout(()=>{r.removeAttribute("data-paginated")},300)}});
