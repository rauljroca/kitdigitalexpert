import{d as f}from"./debounce.DT8DhbJn.js";import{l as m,d as y}from"./event.C5jlCmtE.js";const b=document.querySelectorAll('[data-id="w-data-table-filter"]'),g=document.querySelectorAll('[data-id="w-data-table-sort"]');Array.from(b).forEach(a=>{a.addEventListener("input",f(r=>{const l=r.target,o=l.dataset.filter,d=l.closest("section")?.querySelector("table"),s=l.closest("section")?.querySelector(".w-data-table-pagination"),n=d.querySelector("tfoot"),u=Array.from(d.querySelectorAll("tbody tr"));u.forEach(t=>{Array.from(t.querySelectorAll("td")).filter(i=>o?.includes(i.dataset.name||"")).map(i=>i.innerText).join("").toLowerCase().includes(l.value.toLowerCase())?t.removeAttribute("data-hidden"):t.dataset.hidden="true"});const e=Array.from(d?.querySelectorAll("tbody tr:not([data-hidden])"));e.length?n.dataset.hidden="true":n.removeAttribute("data-hidden"),d.dataset.itemsPerPage&&e.length>=Number(d.dataset.itemsPerPage)&&e.forEach((t,c)=>{c>=Number(d.dataset.itemsPerPage)&&(t.dataset.hidden="true")}),l.value?s.style.display="none":(s.style.display="flex",u.forEach(t=>{t.dataset.page!==d.dataset.page?t.dataset.hidden="true":t.removeAttribute("data-hidden")})),y("dataTableFilter",{results:e,numberOfResults:e.length})},400))});Array.from(g).forEach(a=>{let r=1;a.addEventListener("click",l=>{const o=l.target,d=o.parentElement?.dataset.name,s=o.closest("section")?.querySelector("table"),n=s?.querySelector("tbody"),u=Array.from(s?.querySelectorAll("tbody tr")).sort((e,t)=>{let c=e.querySelector(`[data-name=${d}]`)?.innerText.replace(/\s/g,""),i=t.querySelector(`[data-name=${d}]`)?.innerText.replace(/\s/g,"");return isNaN(c)||(c=Number(c)),isNaN(i)||(i=Number(i)),c>i?r*-1:r}).map((e,t)=>(s?.dataset.page&&(e.dataset.page=`${Math.ceil((t+1)/Number(s.dataset.itemsPerPage))}`,e.dataset.page!==s.dataset.page?e.dataset.hidden="true":e.removeAttribute("data-hidden")),e));n?.replaceChildren(...u),r=r===1?-1:1})});m("selectOnChange",a=>{const r=a.name.toLowerCase().replace(/\s/g,""),l=(document.querySelector(`[data-id="w-select-${a.select}"]`)?.closest("section")).querySelector("table"),o=Array.from(l.querySelectorAll(`[data-name=${r}]`)),s=Array.from(a.list.children).find(n=>n.dataset.name===a.name).children[0];s.style.opacity=s.style.opacity==="0"?"1":"0",s.style.opacity==="0"?o.forEach(n=>n.dataset.hidden="true"):o.forEach(n=>n.removeAttribute("data-hidden"))});m("paginate",a=>{const r=a.target.closest("section").querySelector("table");if(!r)return;const l=Array.from(r.querySelectorAll("tbody tr"));r.dataset.page=a.page,l.forEach(o=>{Number(o.dataset.page)===a.page?o.removeAttribute("data-hidden"):o.dataset.hidden="true"})});
